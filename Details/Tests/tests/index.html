
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.1.11">
    
    
      
        <title>Tests - ComputePods Python Utilities</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3754935a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tests_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ComputePods Python Utilities" class="md-header__button md-logo" aria-label="ComputePods Python Utilities" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ComputePods Python Utilities
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tests
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ComputePods Python Utilities" class="md-nav__button md-logo" aria-label="ComputePods Python Utilities" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ComputePods Python Utilities
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        ComputePods Utilities
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Architecture
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Architecture" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Architecture/ArtefactManager/" class="md-nav__link">
        Artefact Manager
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Architecture/DependencyManager/" class="md-nav__link">
        Dependency Manager
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Architecture/FSWatcher/" class="md-nav__link">
        FSWatcher
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Architecture/RulesManager/" class="md-nav__link">
        Rules Manager
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Details
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Details" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Details
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cputils/" class="md-nav__link">
        CPUtils
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      <label class="md-nav__link" for="__nav_3_2">
        Tests
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tests" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tests
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests" class="md-nav__link">
    fsWatcher_tests
  </a>
  
    <nav class="md-nav" aria-label="fsWatcher_tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch" class="md-nav__link">
    TestRecursiveWatch
  </a>
  
    <nav class="md-nav" aria-label="TestRecursiveWatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch.setUpClass" class="md-nav__link">
    setUpClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch.tearDownClass" class="md-nav__link">
    tearDownClass()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.rules_tests" class="md-nav__link">
    rules_tests
  </a>
  
    <nav class="md-nav" aria-label="rules_tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager" class="md-nav__link">
    TestRulesManager
  </a>
  
    <nav class="md-nav" aria-label="TestRulesManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.setUpClass" class="md-nav__link">
    setUpClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.tearDownClass" class="md-nav__link">
    tearDownClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.test_loadRules" class="md-nav__link">
    test_loadRules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.test_ruleManager" class="md-nav__link">
    test_ruleManager()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.testUtils" class="md-nav__link">
    testUtils
  </a>
  
    <nav class="md-nav" aria-label="testUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.testUtils.asyncTestOfProcess" class="md-nav__link">
    asyncTestOfProcess()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests" class="md-nav__link">
    fsWatcher_tests
  </a>
  
    <nav class="md-nav" aria-label="fsWatcher_tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch" class="md-nav__link">
    TestRecursiveWatch
  </a>
  
    <nav class="md-nav" aria-label="TestRecursiveWatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch.setUpClass" class="md-nav__link">
    setUpClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.fsWatcher_tests.TestRecursiveWatch.tearDownClass" class="md-nav__link">
    tearDownClass()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.rules_tests" class="md-nav__link">
    rules_tests
  </a>
  
    <nav class="md-nav" aria-label="rules_tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager" class="md-nav__link">
    TestRulesManager
  </a>
  
    <nav class="md-nav" aria-label="TestRulesManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.setUpClass" class="md-nav__link">
    setUpClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.tearDownClass" class="md-nav__link">
    tearDownClass()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.test_loadRules" class="md-nav__link">
    test_loadRules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests.rules_tests.TestRulesManager.test_ruleManager" class="md-nav__link">
    test_ruleManager()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests.testUtils" class="md-nav__link">
    testUtils
  </a>
  
    <nav class="md-nav" aria-label="testUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tests.testUtils.asyncTestOfProcess" class="md-nav__link">
    asyncTestOfProcess()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="tests_1">Tests</h1>


  <div class="doc doc-object doc-module">

<a id="tests"></a>
    <div class="doc doc-contents first">

      <hr />
<p>This is a collection of tests for the cpUtils project</p>
<hr />



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h2 id="tests.fsWatcher_tests" class="doc doc-heading">
        <code>fsWatcher_tests</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="tests.fsWatcher_tests.TestRecursiveWatch" class="doc doc-heading">
        <code>TestRecursiveWatch</code>



</h3>

    <div class="doc doc-contents ">





  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="tests.fsWatcher_tests.TestRecursiveWatch.setUpClass" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setUpClass</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Hook method for setting up class fixture before running tests in the class.</p>

        <details class="quote">
          <summary>Source code in <code>tests/fsWatcher_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setUpClass</span><span class="p">()</span> <span class="p">:</span>
  <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">,</span> <span class="s1">&#39;test01&#39;</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;tree &quot;</span><span class="o">+</span> <span class="n">cputilsTestDir</span><span class="p">)</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">,</span> <span class="s1">&#39;test01&#39;</span><span class="p">,</span> <span class="s1">&#39;silly.txt&#39;</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span> <span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;This is a test&quot;</span><span class="p">)</span>
  <span class="n">loggedMsgs</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="tests.fsWatcher_tests.TestRecursiveWatch.tearDownClass" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tearDownClass</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Hook method for deconstructing the class fixture after running all tests in the class.</p>

        <details class="quote">
          <summary>Source code in <code>tests/fsWatcher_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">tearDownClass</span><span class="p">()</span> <span class="p">:</span>
  <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="tests.rules_tests" class="doc doc-heading">
        <code>rules_tests</code>



</h2>

    <div class="doc doc-contents ">

      <p>The <strong>rules_tests</strong> module collects various tests of the <strong>RuleManager</strong>.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="tests.rules_tests.TestRulesManager" class="doc doc-heading">
        <code>TestRulesManager</code>



</h3>

    <div class="doc doc-contents ">

      <p>Test the Rules  Manager.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="tests.rules_tests.TestRulesManager.setUpClass" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setUpClass</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Setup the tests by creating a private directory in /tmp</p>

        <details class="quote">
          <summary>Source code in <code>tests/rules_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setUpClass</span><span class="p">()</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Setup the tests by creating a private directory in /tmp</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">,</span> <span class="s1">&#39;test01&#39;</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;tree &quot;</span><span class="o">+</span> <span class="n">cputilsTestDir</span><span class="p">)</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">,</span> <span class="s1">&#39;test01&#39;</span><span class="p">,</span> <span class="s1">&#39;silly.txt&#39;</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span> <span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;This is a test&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="tests.rules_tests.TestRulesManager.tearDownClass" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tearDownClass</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Tear down the private directory in /tmp</p>

        <details class="quote">
          <summary>Source code in <code>tests/rules_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">tearDownClass</span><span class="p">()</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Tear down the private directory in /tmp</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">cputilsTestDir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="tests.rules_tests.TestRulesManager.test_loadRules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">test_loadRules</span><span class="p">(</span><span class="n">t</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>When loading a rule set, we want to make sure that any new Artefact
types are sent to the ArtefactManager via NATS.</p>

        <details class="quote">
          <summary>Source code in <code>tests/rules_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">&quot;No real tests yet&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_loadRules</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">  When loading a rule set, we want to make sure that any new Artefact</span>
<span class="sd">  types are sent to the ArtefactManager via NATS.</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">cputils</span><span class="o">.</span><span class="n">rulesManager</span><span class="o">.</span><span class="n">loadRules</span><span class="p">(</span><span class="s1">&#39;../examples/rulesManager&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="tests.rules_tests.TestRulesManager.test_ruleManager" class="doc doc-heading">
<code class="highlight language-python"><span class="n">test_ruleManager</span><span class="p">(</span><span class="n">t</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Test the <strong>RuleManager</strong></p>

        <details class="quote">
          <summary>Source code in <code>tests/rules_tests.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@asyncTestOfProcess</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test_ruleManager</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Test the **RuleManager**</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">t</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="tests.testUtils" class="doc doc-heading">
        <code>testUtils</code>



</h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="tests.testUtils.asyncTestOfProcess" class="doc doc-heading">
<code class="highlight language-python"><span class="n">asyncTestOfProcess</span><span class="p">(</span><span class="n">asyncProcessFunc</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>The asyncTestOfProcess <strong>decorator</strong> expects as an <em>argument</em> an async
coroutine which runs the long running asynchronous process to be tested.
The asyncTestOfProcess <em>decorates</em> another async coroutine containing
the tests and assertions used to test the long running process itself.
Both the argument and the decorated function MUST be async coroutines,
AND the process needs to place "things" into the t.asyncTestQueue, AND
the decorated function MUST await on t.asyncTestQueue.get() to allow the
tested process time to function.</p>

        <details class="quote">
          <summary>Source code in <code>tests/testUtils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">asyncTestOfProcess</span><span class="p">(</span><span class="n">asyncProcessFunc</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">  The asyncTestOfProcess **decorator** expects as an *argument* an async</span>
<span class="sd">  coroutine which runs the long running asynchronous process to be tested.</span>
<span class="sd">  The asyncTestOfProcess *decorates* another async coroutine containing</span>
<span class="sd">  the tests and assertions used to test the long running process itself.</span>
<span class="sd">  Both the argument and the decorated function MUST be async coroutines,</span>
<span class="sd">  AND the process needs to place &quot;things&quot; into the t.asyncTestQueue, AND</span>
<span class="sd">  the decorated function MUST await on t.asyncTestQueue.get() to allow the</span>
<span class="sd">  tested process time to function.</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">def</span> <span class="nf">decorateTest</span><span class="p">(</span><span class="n">asyncTestFunc</span><span class="p">)</span> <span class="p">:</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">asyncTestFunc</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrappedTest</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">async</span> <span class="k">def</span> <span class="nf">asyncRunner</span><span class="p">()</span> <span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">asyncTestQueue</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">asyncProcessFunc</span> <span class="p">:</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">iscoroutinefunction</span><span class="p">(</span><span class="n">asyncProcessFunc</span><span class="p">)</span> <span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">&quot;The process being tested MUST be a async coroutine!&quot;</span><span class="p">)</span>
          <span class="n">processRunner</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">asyncProcessFunc</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">iscoroutinefunction</span><span class="p">(</span><span class="n">asyncTestFunc</span><span class="p">)</span> <span class="p">:</span>
          <span class="n">t</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">&quot;The test being run on the process MUST be a async coroutine!&quot;</span><span class="p">)</span>
        <span class="n">asyncTestFuture</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">create_future</span><span class="p">()</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">wrappedAsyncTestFunc</span><span class="p">()</span> <span class="p">:</span>
          <span class="k">try</span> <span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncTestFunc</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="n">asyncTestFuture</span><span class="o">.</span><span class="n">set_result</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
          <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span> <span class="p">:</span>
            <span class="k">pass</span>
          <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span> <span class="p">:</span>
            <span class="n">asyncTestFuture</span><span class="o">.</span><span class="n">set_exception</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="n">testRunner</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">wrappedAsyncTestFunc</span><span class="p">())</span>
        <span class="k">await</span> <span class="n">asyncTestFuture</span>

      <span class="k">try</span> <span class="p">:</span>
        <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">asyncRunner</span><span class="p">())</span>
      <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span> <span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">wrappedTest</span>

  <span class="k">return</span> <span class="n">decorateTest</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../cputils/" class="md-footer__link md-footer__link--prev" aria-label="Previous: CPUtils" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              CPUtils
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ddd52ceb.min.js"></script>
      
    
  </body>
</html>